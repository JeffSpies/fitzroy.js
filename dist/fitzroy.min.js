/**
 ** <APP NAME>
 ** @author jeffspies
 **/
var finch=require("finch"),History=require("history"),$=require("jquery"),FitzRoy=FitzRoy||function(){var t=function(){$.expr[":"].external=function(t){var o=/^\w+:\/\//,e=$(t).attr("href");return void 0!==e&&-1!==e.search(o)},$.expr[":"].internal=function(t){return void 0!==$(t).attr("href")&&!$.expr[":"].external(t)},History.options.debug=!1,History.Adapter.bind(window,"statechange",function(){finch.call(History.getState().hash)})};t()};FitzRoy.prototype.getHash=function(){return History.getState().hash},FitzRoy.prototype.pushState=function(t,o,e){History.pushState(t,o,e)},FitzRoy.prototype.call=function(t){finch.call(t)},FitzRoy.prototype.add=function(t,o,e){t=this.base+t,console.log(t),finch.route(t,function(){o.call(e)})},FitzRoy.prototype.ajaxify=function(t){t instanceof $||(t=$(t)),t.find("a:internal:not(.no-ajax)").off("click").on("click",function(t){var o=$(this),e=o.attr("href"),n=o.attr("title")||null;return 2==t.which||t.metaKey?!0:(History.pushState(null,n,e),t.preventDefault(),!1)})},module.exports=FitzRoy;