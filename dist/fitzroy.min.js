/**
 ** <APP NAME>
 ** @author jeffspies
 **/
var finch=require("finch"),History=require("history"),$=require("jquery"),FitzRoy=FitzRoy||function(){var t=function(){$.expr[":"].external=function(t){var e=/^\w+:\/\//,i=$(t).attr("href");return void 0!==i&&-1!==i.search(e)},$.expr[":"].internal=function(t){return void 0!==$(t).attr("href")&&!$.expr[":"].external(t)},History.options.debug=!1,History.Adapter.bind(window,"statechange",function(){finch.call(History.getState().hash)})};t()};FitzRoy.prototype.getHash=function(){return History.getState().hash},FitzRoy.prototype.pushState=function(t,e,i){History.pushState(t,e,i)},FitzRoy.prototype.call=function(t){finch.call(t)},FitzRoy.prototype.add=function(t,e,i){t=this.base+t,finch.route(t,function(){e.call(i)})},FitzRoy.prototype.ajaxify=function(t){t instanceof $||(t=$(t)),t.find("a:internal:not(.no-ajax)").off("click").on("click",function(t){var e=$(this),i=e.attr("href"),n=e.attr("title")||null;return 2==t.which||t.metaKey?!0:(History.pushState(null,n,i),t.preventDefault(),!1)})},module.exports=FitzRoy;